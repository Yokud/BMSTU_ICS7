\documentclass[12pt]{report}
\usepackage[utf8]{inputenc}
\usepackage[english, russian]{babel}
\usepackage{listings}
\usepackage{graphicx}
\usepackage{float}
\graphicspath{{imgs/}}
\usepackage{amsmath,amsfonts,amssymb,amsthm,mathtools} 
\usepackage{pgfplots}
\usepackage{filecontents}
\usepackage{indentfirst}
\usepackage{eucal}
\usepackage{enumitem}
\frenchspacing

\usepackage{indentfirst} % Красная строка

\usetikzlibrary{datavisualization}
\usetikzlibrary{datavisualization.formats.functions}

\usepackage{amsmath}
\usepackage{fixltx2e}
\usepackage{caption}


\definecolor{bluekeywords}{rgb}{0,0,1}
\definecolor{greencomments}{rgb}{0,0.5,0}
\definecolor{redstrings}{rgb}{0.64,0.08,0.08}
\definecolor{xmlcomments}{rgb}{0.5,0.5,0.5}
\definecolor{types}{rgb}{0.17,0.57,0.68}

\usepackage{listings}
\lstset{language=[Sharp]C,
	captionpos=t,
	numbers=left, %Nummerierung
	numberstyle=\small, % kleine Zeilennummern
	frame=single, % Oberhalb und unterhalb des Listings ist eine Linie
	stepnumber=1,                   
	numbersep=5pt,                
	showspaces=false,
	tabsize=2,
	showtabs=false,
	breaklines=true,
	showstringspaces=false,
	breakatwhitespace=true,
	escapeinside={(*@}{@*)},
	commentstyle=\color{greencomments},
	morekeywords={partial, var, value, get, set},
	keywordstyle=\color{bluekeywords},
	stringstyle=\color{redstrings},
	basicstyle=\ttfamily\small,
}

\usepackage[left=1cm,right=1cm, top=1cm,bottom=2cm,bindingoffset=0cm]{geometry}
% Для измененных титулов глав:
\usepackage{titlesec, blindtext, color} % подключаем нужные пакеты
\definecolor{gray75}{gray}{0.75} % определяем цвет
\newcommand{\hsp}{\hspace{20pt}} % длина линии в 20pt
% titleformat определяет стиль
\titleformat{\chapter}[hang]{\Huge\bfseries}{\thechapter\hsp\textcolor{gray75}{|}\hsp}{0pt}{\Huge\bfseries}

\usepackage{array}
\newcommand{\head}[2]{\multicolumn{1}{>{\centering\arraybackslash}p{#1}}{#2}}

% plot
\usepackage{pgfplots}
\usepackage{filecontents}
\usetikzlibrary{datavisualization}
\usetikzlibrary{datavisualization.formats.functions}

\begin{document}
	%\def\chaptername{} % убирает "Глава"
	\thispagestyle{empty}
	\begin{titlepage}
		\noindent \begin{minipage}{0.15\textwidth}
			\includegraphics[width=\linewidth]{b_logo}
		\end{minipage}
		\noindent\begin{minipage}{0.9\textwidth}\centering
			\textbf{Министерство науки и высшего образования Российской Федерации}\\
			\textbf{Федеральное государственное бюджетное образовательное учреждение высшего образования}\\
			\textbf{~~~«Московский государственный технический университет имени Н.Э.~Баумана}\\
			\textbf{(национальный исследовательский университет)»}\\
			\textbf{(МГТУ им. Н.Э.~Баумана)}
		\end{minipage}
		
		\noindent\rule{18cm}{3pt}
		\newline\newline
		\noindent ФАКУЛЬТЕТ $\underline{\text{«Информатика и системы управления»}}$ \newline\newline
		\noindent КАФЕДРА $\underline{\text{«Программное обеспечение ЭВМ и информационные технологии»}}$\newline\newline\newline\newline\newline\newline\newline\newline\newline\newline\newline
		
		
		\begin{center}
			\noindent\begin{minipage}{1.3\textwidth}\centering
				\Large\textbf{  Отчет по лабораторной работе №11-11(2)}\newline
				\textbf{по дисциплине \newline "Функциональное и логическое программирование"}\newline\newline
			\end{minipage}
		\end{center}
		
		\noindent\textbf{Тема} $\underline{\text{Среда Visual Prolog. Структура программы}}$\newline\newline
		\noindent\textbf{Студент} $\underline{\text{Малышев И. А.}}$\newline\newline
		\noindent\textbf{Группа} $\underline{\text{ИУ7-61Б}}$\newline\newline
		\noindent\textbf{Оценка (баллы)} $\underline{\text{~~~~~~~~~~~~~~~~~~~~~~~~~~~}}$\newline\newline
		\noindent\textbf{Преподаватель: } $\underline{\text{Толпинская Н. Б.}}$\newline\newline\newline
		
		\begin{center}
			\vfill
			Москва~---~\the\year
			~г.
		\end{center}
	\end{titlepage}
	
	
	\setcounter{page}{2}

\chapter*{Лабораторная работа №11}
\section*{Задание}

Разработать свою программу -- <<Телефонный справочник>>. Протестировать работу программы.

\section*{Решение}
\begin{lstlisting}
domains
	name = string
	phone = string
	city = string
	street = string
	home = integer
	
predicates
	record(name, phone, city, street, home)
	
clauses
	record("Ivan", "+79631416412", "Moscow", "Frunzenskaya", 15).
	record("Peter", "+79123456789", "Saint Peterburg", "Nevskaya", 27).
	record("Sergey", "+79335436781", "Moscow", "Obychnaya", 5).
	record("Marya", "+79027531212", "Moscow", "Yartsevskaya", 13).
	record("Michail", "+79635432121", "Tver", "Chekhovskaya", 33).
	
goal
	record(Name, Phone, "Moscow", Street, Home).
\end{lstlisting}


\chapter*{Лабораторная работа №11(2)}
\section*{Задание}

Составить программу -- базу знаний, с помощью которой можно определить, например, множество студентов, обучающихся в одном ВУЗе и их телефоны. Студент может одновременно обучаться в нескольких ВУЗах. Привести примеры возможных вариантов вопросов и варианты ответов (не менее 3-х). Описать порядок формирования вариантов ответа.

Исходную базу знаний сформировать с помощью только фактов.

*Исходную базу знаний сформировать, используя правила.

**Разработать свою базу знаний (содержание произвольно).

\section*{Решение}
\begin{lstlisting}
domains
	name = string
	surname = string
	phone = string
	university = string
	group = string
	course = integer

predicates
	student(name, surname, phone, university, group, course)

clauses
	student("Ivan", "Malyshev", "+78005553535", "BMSTU", "IU7-61B", 3).
	student("Nikita", "Shatskiy", "+79996663232", "BMSTU", "IU7-61B", 3).
	student("Ivan", "Ivanov", "+79543432255", "MIPT", "LFI-14", 1).
	student("Sergey", "Simonov", "+79342221314", "MAI", "ACS-32", 2).
	student("Ivan", "Malyshev", "+78005553535", "MIPT", "FIVT-5", 5).
	student("Petr", "Grinev", "+79456784433", "MSU", "VMK-4", 4).
	student("Maria", "Bublikova", "+79554327788", University, Group, Course) :- student(\_, "Ivanov", \_, University, Group, Course).

goal
	student("Ivan", Surname, Phone, University, Group, Course).
	student(Name, Surname, Phone, "BMSTU", \_, 3).
	student("Ivan", \_, \_, \_, "IU7-61B", \_).
\end{lstlisting}

""\newline""\newline\indent
С помощью первого вопроса получаются все студенты с именем Иван. Происходит проход сверху вниз по всем фактам предиката \emph{student(name, surname, phone, university, group, course)} и осуществляется унификация с \emph{student(''Ivan'', Surname, Phone, University, Group, Course)}. Унификацию успешно проходит три факта: \emph{student(''Ivan'', ''Malyshev'', ''+78005553535'', ''BMSTU'', ''IU7-61B'', 3)}, \emph{student(''Ivan'', ''Ivanov'', ''+79543432255'', ''MIPT'', ''LFI-14'', 1)} и \emph{student(''Ivan'', ''Malyshev'', ''+78005553535'', ''MIPT'', ''FIVT-5'', 5)}.\\

С помощью второго вопроса получаются все студенты МГТУ, которые обучаются на 3 курсе.  Происходит проход по всем фактам предиката \emph{student(name, surname, phone, university, group, course)} и осуществляется унификация с \emph{student(Name, Surname, Phone, ''BMSTU'', \_, 3)}.  Успешно унификацию проходят факты \emph{student(''Ivan'', ''Malyshev'', ''+78005553535'', ''BMSTU'', ''IU7-61B'', 3)} и \emph{student(''Nikita", ''Shatskiy'', ''+79996663232'', ''BMSTU'', ''IU7-61B'', 3)}.\\

С помощью третьего вопроса получаются все Иваны, которые обучаются в группе ИУ7-61Б.  Происходит проход по всем фактам предиката \emph{student(name, surname, phone, university, group, course)} и осуществляется унификация с \emph{student(''Ivan'', \_, \_, \_, ''IU7-61B'', \_)}.  Успешно унификацию проходит \emph{student(''Ivan'', ''Malyshev'', ''+78005553535'', ''BMSTU'', ''IU7-61B'', 3)}.\\

\chapter*{Теоретические вопросы}

\section*{1. Что собой представляет программа на языке пролог?}

Программа на Prolog представляет собой набор фактов и правил, обеспечивающих получение заключений на основе этих утверждений. Программа содержит базу знаний и вопрос. База знаний содержит истинные значения, используя которые программа выдает ответ на вопрос. 

Основным элементом языка является терм. База знаний состоит из предложений. Каждое предложение заканчивается точкой. Вопрос состоит только из тела – составного терма (или нескольких составных термов). Вопросы используются для выяснения выполнимости некоторого отношения между описанными в программе объектами. Система рассматривает вопрос как цель, к которой (к истинности которой) надо стремиться. Ответ на вопрос может оказаться логически положительным или отрицательным, в зависимости от того, может ли быть достигнута соответствующая цель.

\section*{2. Какова структура программы на Prolog?}

Программа на Prolog состоит из следующих разделов:

\begin{itemize}
	\item директивы компилятора — зарезервированные символьные константы,
	\item CONSTANTS — раздел описания констант,
	\item DOMAINS — раздел описания доменов,
	\item DATABASE — раздел описания предикатов внутренней базы данных,
	\item PREDICATES — раздел описания предикатов,
	\item CLAUSES — раздел описания предложений базы знаний,
	\item GOAL — раздел описания внутренней цели (вопроса).
	В программе не обязательно должны быть все разделы.
\end{itemize}

\section*{3. Как реализуется программа на Prolog? Как формируются результаты работы программы?}

Ответ на поставленный вопрос система дает в логической форме - «Да» или «Нет». Цель системы состоит в том, чтобы на поставленный вопрос найти возможность, исходя из базы знаний, ответить «Да». Вариантов ответить «Да» на поставленный вопрос может быть несколько. В нашем случае система настроена в режим получения всех возможных вариантов ответа. При поиске ответов на вопрос рассматриваются альтернативные варианты и находятся все возможные решения (методом проб и ошибок) - множества значений переменных, при которых на поставленный вопрос можно ответить - «Да».

Для выполнения логического вывода используется механизм унификации, встроенный в систему.
Унификация – операция, которая позволяет формализовать процесс логического вывода. С практической точки зрения  - это основной вычислительный шаг, с помощью которого происходит:
\begin{itemize}
	\item Двунаправленная передача параметров процедурам,
	\item Неразрушающее присваивание,
	\item Проверка условий (доказательство).
\end{itemize}

\end{document}